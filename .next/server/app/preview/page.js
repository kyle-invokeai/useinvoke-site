(()=>{var e={};e.id=639,e.ids=[639],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8609:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),o=s.n(n),i=s(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["preview",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3033)),"C:\\Users\\kyleb\\OneDrive\\Desktop\\ai-agent-orchestrator\\app\\preview\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\kyleb\\OneDrive\\Desktop\\ai-agent-orchestrator\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\kyleb\\OneDrive\\Desktop\\ai-agent-orchestrator\\app\\preview\\page.tsx"],p="/preview/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/preview/page",pathname:"/preview",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5287:()=>{},4346:(e,t,s)=>{Promise.resolve().then(s.bind(s,4993))},9417:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},4993:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5344),a=s(3729),n=s(6506),o=s(4767);function i(){let e=(0,o.useSearchParams)(),[t,s]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[p,u]=(0,a.useState)(!1),[x,m]=(0,a.useState)(""),h=(0,a.useRef)(null),[b,g]=(0,a.useState)(!0),[v,f]=(0,a.useState)(!1),[w,y]=(0,a.useState)(""),[j,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{let t=e.get("phone")||"";if(!t){let e=localStorage.getItem("invoke_preview_phone");e&&(t=e)}if(!t){g(!1),y("No phone number provided");return}if(s(t),"+19999999999"===t){k(!0),f(!0),g(!1),localStorage.setItem("invoke_preview_phone",t);return}try{let e=await fetch(`/api/preview/access?phone=${encodeURIComponent(t)}`),s=await e.json();e.ok&&s.allowed?(f(!0),k(s.demo||!1),localStorage.setItem("invoke_preview_phone",t)):(f(!1),y(s.error||"Access denied"))}catch(e){f(!1),y("Failed to verify access")}finally{g(!1)}})()},[e]),(0,a.useEffect)(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[d]);let N=async()=>{if(!i.trim()||!t||p)return;let e=i.trim();l(""),u(!0),m("");let s={id:Date.now().toString(),direction:"inbound",body:e,created_at:new Date().toISOString()};c(e=>[...e,s]);try{let s=await fetch("/api/invoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:t,body:e,channel:j?"demo":"web"})}),r=await s.json();if(s.ok){let e={id:(Date.now()+1).toString(),direction:"outbound",body:r.reply,created_at:new Date().toISOString()};c(t=>[...t,e])}else m(r.error||"Failed to get response")}catch(e){m("Failed to send message. Please try again.")}finally{u(!1)}},S=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{className:"min-h-screen bg-slate-950 text-slate-200 flex flex-col",children:[(0,r.jsxs)("header",{className:"bg-slate-900 border-b border-slate-800 px-4 py-3 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(n.default,{href:"/",className:"text-xl font-bold text-white tracking-tight",children:"Invoke"}),r.jsx("span",{className:"text-slate-500",children:"|"}),r.jsx("span",{className:"text-sm text-slate-400",children:"Preview"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("form",{onSubmit:e=>{e.preventDefault(),t&&(localStorage.setItem("invoke_preview_phone",t),window.location.href=`/preview?phone=${encodeURIComponent(t)}`)},className:"flex items-center gap-2",children:r.jsx("input",{type:"tel",value:t,onChange:e=>s(e.target.value),placeholder:"Phone number",className:"px-3 py-1.5 bg-slate-800 border border-slate-700 rounded text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-blue-500 w-40"})})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[0===d.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:j?"Demo Mode":"Welcome to Invoke Preview"}),r.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:j?"This is a demo with sample data. Type a message below to try the conversation flow.":'This simulates the SMS experience. Type a message below to start the conversation. Try typing "hello" or "//invoke" to begin.'})]}),d.map(e=>r.jsx("div",{className:`flex ${"inbound"===e.direction?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${"inbound"===e.direction?"bg-blue-600 text-white rounded-br-md":"bg-slate-800 text-slate-200 rounded-bl-md"}`,children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.body}),r.jsx("p",{className:`text-xs mt-1 ${"inbound"===e.direction?"text-blue-200":"text-slate-500"}`,children:S(e.created_at)})]})},e.id)),x&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-center",children:r.jsx("p",{className:"text-sm text-red-400",children:x})}),r.jsx("div",{ref:h})]})}),(0,r.jsxs)("div",{className:"bg-slate-900 border-t border-slate-800 px-4 py-4",children:[(0,r.jsxs)("div",{className:"max-w-2xl mx-auto flex gap-2",children:[r.jsx("input",{type:"text",value:i,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},placeholder:t?"Type a message...":"Enter phone number first...",disabled:!t||p,className:"flex-1 px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),r.jsx("button",{onClick:N,disabled:!t||!i.trim()||p,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:p?(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{children:"Send"}),r.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]}),r.jsx("p",{className:"max-w-2xl mx-auto mt-2 text-xs text-slate-500 text-center",children:j?"Demo mode - No data is saved to the database.":"This is a preview of the SMS experience. Messages are not sent to your actual phone."})]})]})}function l(){return r.jsx(a.Suspense,{fallback:r.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),children:r.jsx(i,{})})}},6506:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(1476),a=s.n(r)},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a});var r=s(5036);s(7272);let a={title:"Invoke - AI-Powered Communication Infrastructure",description:"Automate voice and messaging workflows with intelligent systems."};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-slate-950 text-slate-200 antialiased",children:e})})}},3033:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let r=(0,s(6843).createProxy)(String.raw`C:\Users\kyleb\OneDrive\Desktop\ai-agent-orchestrator\app\preview\page.tsx`),{__esModule:a,$$typeof:n}=r,o=r.default},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,356,476],()=>s(8609));module.exports=r})();